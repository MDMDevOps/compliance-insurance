!function(e){"use strict";function t(){n(),setTimeout(function(){e("body.iframe").css({height:"auto"})},200),c===!0&&(e(".new-shortcode").hide(),e(".gmb-edit-shortcode").show(),e("#gmb_submit").val("Edit Shortcode"),o(a))}function o(t){var o=i(t.shortcode_params,"id");return o?void e("#gmb_maps").val(o):(alert("There was no Map ID found for this shortcode. Please create a new one."),!1)}function n(){e("#gmb_settings").on("submit",function(t){t.preventDefault();var o,n=top.tinymce.activeEditor.windowManager.getParams(),i=e("#gmb_maps").val();o="["+n.shortcode,i&&(o+=' id="'+i+'"'),o+="]",top.tinyMCE.activeEditor.execCommand("mceInsertContent",0,o),top.tinymce.activeEditor.windowManager.close()})}function i(e,t){return t=new RegExp(t+'="([^"]+)"',"g").exec(e),t?window.decodeURIComponent(t[1]):""}var a="",c=!1;e(document).ready(function(){e("#gmb_cancel").on("click",function(e){top.tinymce.activeEditor.windowManager.close(),e.preventDefault()}),a=top.tinyMCE.activeEditor.windowManager.getParams(),"undefined"!==a.shortcode_params&&(c=!0),t()})}(jQuery);